<div class="container-fluid footer-logo-contain">
    <div class="row row-cols-auto">
      <div class="col">
        <a class="footer-logo" href="https://www.sandiego.gov/" target="_blank">{{ partial "logo-white-color-sails" . }}</a>
      </div>
      <div class="col">
        <div class="d-flex align-items-center h-100">
          <p class="float-start logo-text fs-5">Mayor Todd Gloria</p>
          <p class="float-start logo-text fs-5">Terms of use</p>
          <p class="float-start logo-text fs-5">Copyrighted Â© 2002-2023. City of San Diego. All rights reserved.</p>
        </div>
      </div>
    </div>
</div>
<div class="container-fluid footer-color-bar"></div>

<script defer src="/assets/scripts/dist/vendor/jquery-3.7.0.js"></script>
<script defer src="/assets/scripts/dist/vendor/bootstrap-{{ $.Site.Params.bootstrap }}-dist/js/bootstrap.bundle.min.js"></script>

{{ if .IsHome}}
<script type="text/javascript">
    (function() {
      'use strict';

      document.addEventListener('DOMContentLoaded', function(e) {

        // Dropdown var for testing

        let ddHidden = true;

        $('#dropdownMenuParent').on('show.bs.dropdown', function () {
            ddHidden = false;
        }).on('hide.bs.dropdown', function () {
            ddHidden = true;
        });
        
        // Button event listener for search submit

        document.getElementById("searchSubmit").addEventListener("mousedown", (event) => {
          
          // When search button clicked, prevent default to avoid
          // moving focus and deactivating search
          // but submit the search

          event.preventDefault();
          searchSubmit();
        });

        // Keyboard event listener for search

        document.getElementById("searchQuery").addEventListener('keyup', (event) => {

          // Check if key pressed is enter
            if (event.keyCode === 13) {
              // If the dropdown is hidden, show it
                if (ddHidden) {
                  
                    $('#searchSubmit').dropdown('toggle');
                }
                // Either way, run the search
                searchSubmit();
            } else {
              // If key is any other, check to see if
              // user has backspaced input clear
              if (event.target.value === "") {
                // If so, check if dropdown is showing
                if (ddHidden === false) {
                  // If so, hide it
                  $('#searchSubmit').dropdown('toggle');
                }
              }
            }
        }, false);
          
      })
    })();
</script>
<script defer src="/assets/scripts/dist/vendor/fuse.min.js"></script>
<script defer src="/assets/scripts/dist/vendor/mark.min.js"></script>
<script defer src="/assets/scripts/src/search.js"></script>

{{ else if eq .Section "datasets"}}

<script defer src="/assets/scripts/src/data-preview.js"></script>
<script type="text/javascript">
  (function() {
    'use strict';

    document.addEventListener('DOMContentLoaded', function(e) {

      // Controls resources toggle

      document.getElementById("resourcesExpandControl").addEventListener("mousedown", (event) => {
          
          const arrowToggle = document.getElementsByClassName("resources-toggle-arrow").item(0);
          const targetDiv = document.getElementById("resourcesExpandTarget");
          
          let targetClasses = targetDiv.classList;
          let arrowClasses = arrowToggle.classList;

          if (targetClasses.contains("data-resources-contain-over")) {
            targetDiv.classList.remove("data-resources-contain-over");
            arrowToggle.classList.remove("resources-toggle-open");
            arrowToggle.classList.add("resources-toggle-close");
          } else {
            targetDiv.classList.add("data-resources-contain-over");
            arrowToggle.classList.remove("resources-toggle-close")
            arrowToggle.classList.add("resources-toggle-open")
          }

        });

      // Controls data dictionary collapse

      const dictFinalBody = document.getElementsByClassName('final-data-def').item(0);

      dictFinalBody.addEventListener('hide.bs.collapse', event => {
          const dictFinalHeader = document.getElementById('final-data-field');
          let finalHeaderClasses = dictFinalHeader.classList;
          if (!(finalHeaderClasses.contains("final-data-field-corners"))) {
            dictFinalHeader.classList.add("final-data-field-corners")
          }
      })

      dictFinalBody.addEventListener('show.bs.collapse', event => {
          const dictFinalHeader = document.getElementById('final-data-field');
          let finalHeaderClasses = dictFinalHeader.classList;
          if (finalHeaderClasses.contains("final-data-field-corners")) {
            dictFinalHeader.classList.remove("final-data-field-corners")
          }
      })
})

    })();
</script>

{{ end }}
<nav aria-label="breadcrumb">
{{ $url := replace .Permalink ( printf "%s" .Site.BaseURL) "" }}
{{ $.Scratch.Add "path" .Site.BaseURL }}
{{ $list := split $url "/" }}
{{ $len := (len $list) }}
{{ $thisPage := .Permalink }}
{{ $thisTitle := .Title }}
<ol class="breadcrumb">
  <li class="breadcrumb-item"><a href="/">Home</a></li>
  

      
      {{ range $index, $element := $list }}
        
        {{ $.Scratch.Add "path" $element }}

        {{ if ne $element ""}}

          <!-- Need to add /datasets/ in front of datasets filters -->

          {{ if or (eq $element "categories") (eq $element "tags") (eq $element "departments") }}
          
            {{ if eq (add $index 1) (sub $len 1) }}
              <li class="breadcrumb-item">
                <a href='/datasets/'>Datasets</a>
              </li>
              <li class="breadcrumb-item active">
                <a href='{{ $thisPage }}'>{{ $thisTitle }}</a>
              </li>
            {{ else }}
              <li class="breadcrumb-item">
                <a href='/datasets/'>Datasets</a>
              </li>
              <li class="breadcrumb-item">
                <a href='{{ $.Scratch.Get "path" }}'>{{ humanize . }}</a>
              </li>
              {{ $.Scratch.Add "path" "/" }}
            {{ end }}

          {{ else }}

            {{ if eq (add $index 1) (sub $len 1) }}
              <li class="breadcrumb-item active">
                <a href='{{ $thisPage }}'>{{ $thisTitle }}</a>
              </li>
            {{ else }}
              <li class="breadcrumb-item">
                <a href='{{ $.Scratch.Get "path" }}'>{{ humanize . }}</a>
              </li>
              {{ $.Scratch.Add "path" "/" }}
            {{ end }}


          {{ end }}

        {{ end }}
      
      {{ end }}
    

</ol>
</nav>